//
// Topbar
// --------------------------------------------------

$topbar-height-top: 215px;
$topbar-height-compact: $pagelayout-y-gutter;

.c-topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: index($z-index, topbar);

  height: rem($topbar-height-top);

  @include mappy-bp(sm) {
    left: $pagelayout-gutter-sm;
    right: $pagelayout-gutter-sm;
  }

  @include mappy-bp(md) {
    left: $pagelayout-gutter-md;
    right: $pagelayout-gutter-md;
  }

  @include mappy-bp(lg) {
    left: $pagelayout-gutter-lg;
    right: $pagelayout-gutter-lg;
  }

  .o-container {
    height: 100%;
  }
}

// Headroom modifiers
.c-topbar--headroom-initialized {
  transition-property: transform, opacity, background-color;
  transition-duration: $transition-time-medium;
}

.c-topbar--unpinned {
  transform: translateY(-100%);
  opacity: 0;
}


.c-topbar--compact {
  height: rem($topbar-height-compact);
  background-color: rgba($color-content-ci, .9);
}


.c-topbar__inner {
  height: 100%;
  display: flex;
  align-items: flex-end;

  .c-topbar--compact & {
    align-items: center;
  }
}

// Menu wrapper
.c-topbar__menu {
  margin-left: auto;
}

// Logo
$logo-xs-shrink-factor: .8;
$logo-height: 200px;
$logo-width: 224px;

.c-topbar__logo {
  height: 100%;
  overflow: hidden;
  margin-right: rem(20px);
  display: flex;
  flex-shrink: 0;

  img {
    margin-top: auto;
    display: block;
    height: rem($logo-height * $logo-xs-shrink-factor);
    width: rem($logo-width * $logo-xs-shrink-factor);
    transition: all $transition-time-default;
    transform-origin: top center;

    @include mappy-bp(xs) {
      height: rem($logo-height);
      width: rem($logo-width);
    }

    .c-topbar--compact & {
      transform: scale(.675 / $logo-xs-shrink-factor);

      @include mappy-bp(xs) {
        transform: scale(.675);
      }
    }
  }
}
